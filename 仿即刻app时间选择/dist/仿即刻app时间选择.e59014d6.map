{"version":3,"sources":["index.js"],"names":["datePicker","year","month","day","_this","yearValue","onclick","e","showYearSelectBox","daySelectBox","classList","add","yearSelectBox","remove","dayValue","showDaySelecyBox","innerText","yearValueWrite","laydate","render","elem","type","position","showBottom","change","value","date","endDate","createNewDaySelectBox","renderDaySelect","dayValueWrite","datePickerContent","removeChild","newDaySelectBox","document","createElement","className","appendChild","that","_datePickerHeader","_datePickerShowYear","_datePickerShowDay","_datePickerContent","_datePickerContentDaySelect","_datePickerContentYearSelect","_datePickerFooter","_datePickerFooterCancel","cancelHandler","_datePickerFooterConfirm","confirmHandler","append","_datePicker","body","targetElement","ele","querySelector","addEventListener","renderHTML","initDate","Date","renderYearSelect","getFullYear","getMonth","getDate","yearValueClick","dayValueClick"],"mappings":"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","file":"仿即刻app时间选择.e59014d6.map","sourceRoot":"..","sourcesContent":["/*\r\n * 仿 即刻APP 时间选择组件\r\n * 引用layDate组件\r\n * Created by Chenkuo on 2018\\4\\19\r\n */\r\nclass datePicker{\r\n\tconstructor() {\r\n\t\tthis.year; //  时间状态\r\n\t\tthis.month; //  月份状态\r\n\t\tthis.day; //  日期状态\r\n\t}\r\n\t\r\n\t/*\r\n\t * 点击header的年份\r\n\t * */\r\n\tyearValueClick() {\r\n\t\tvar _this = this;\r\n\t\tthis.yearValue.onclick = function( e ) {\r\n\t\t\t_this.showYearSelectBox();\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\t * 切换到年份选择面板\r\n\t * */\r\n\tshowYearSelectBox() {\r\n\t\t//  隐藏日期选择框\r\n\t\tthis.daySelectBox.classList.add( 'hide' );\r\n\t\t\r\n\t\t//  显示年份选择框\r\n\t\tthis.yearSelectBox.classList.remove( 'hide' );\r\n\t\tthis.yearSelectBox.classList.add( 'show' );\r\n\t}\r\n\t\r\n\t/*\r\n\t * 点击header的日期\r\n\t * */\r\n\tdayValueClick() {\r\n\t\tvar _this = this;\r\n\t\tthis.dayValue.onclick = function( e ) {\r\n\t\t\t_this.showDaySelecyBox();\r\n\t\t}\r\n\t}\r\n\t\r\n\t/*\r\n\t * 切换到日期选择面板\r\n\t * */\r\n\tshowDaySelecyBox() {\r\n\t\t//  隐藏年份选择框\r\n\t\tthis.yearSelectBox.classList.add( 'hide' );\r\n\t\t\r\n\t\t//  显示日期选择框\r\n\t\tthis.daySelectBox.classList.remove( 'hide' );\r\n\t\tthis.daySelectBox.classList.add( 'show' );\r\n\t}\r\n\t\r\n\t/*\r\n\t * 年份显示框赋值\r\n\t * */\r\n\tyearValueWrite( year ) {\r\n\t\tthis.yearValue.innerText = year;\r\n\t}\r\n\t\r\n\t/*\r\n\t * 月份显示框赋值\r\n\t * */\r\n\tdayValueWrite( year, month, day ) {\r\n\t\tthis.yearValueWrite( year );\r\n\t\tthis.dayValue.innerText = month + \"月\" + day + '日';\r\n\t}\r\n\t\r\n\t/*\r\n\t * 渲染年份选择面板\r\n\t * */\r\n\trenderYearSelect() {\r\n\t\tvar _this = this;\r\n\t\t/*\r\n\t\t * 年份选择初始化\r\n\t\t * */\r\n\t\tlaydate.render({\r\n\t\t\telem: '.datePicker-content-year-select',\r\n\t\t\ttype: 'year',\r\n\t\t\tposition: 'static',\r\n\t\t\tshowBottom: false,\r\n\t\t\tchange: function(value, date, endDate){\r\n\t\t\t\t_this.year  = date.year;\r\n\t\t\t\t_this.yearValueWrite( value );\r\n\t\t\t\t_this.createNewDaySelectBox();\r\n\t\t\t\t_this.renderDaySelect( value, _this.month, _this.day )\r\n\t\t\t\t_this.showDaySelecyBox();\r\n\t\t\t\t\r\n\t\t\t\t/* 当前时间 */\r\n\t\t\t\t// console.log( _this.year, _this.month, _this.day )\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/*\r\n\t * 渲染日期选择面板\r\n\t * */\r\n\trenderDaySelect( year, month, day ) {\r\n\t\tvar _this = this;\r\n\t\tlaydate.render({\r\n\t\t\telem: '.datePicker-content-day-select',\r\n\t\t\tposition: 'static',\r\n\t\t\tshowBottom: false,\r\n\t\t\tvalue: year + '-' + month + '-' + day,\r\n\t\t\tchange: function(value, date, endDate){\r\n\t\t\t\t_this.dayValueWrite( date.year, date.month, date.date );\r\n\t\t\t\t_this.year  = date.year;\r\n\t\t\t\t_this.month = date.month;\r\n\t\t\t\t_this.day   = date.date;\r\n\t\t\t\t\r\n\t\t\t\t/* 当前时间 */\r\n\t\t\t\t// console.log( _this.year, _this.month, _this.day )\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t/*\r\n\t * 重新创建日期选择面板\r\n\t * */\r\n\tcreateNewDaySelectBox() {\r\n\t\tthis.datePickerContent.removeChild( this.daySelectBox )\r\n\t\t\r\n\t\tvar newDaySelectBox = document.createElement( 'div' );\r\n\t\tnewDaySelectBox.className = 'datePicker-content-select datePicker-content-day-select hide';\r\n\t\t\r\n\t\tthis.daySelectBox = newDaySelectBox;\r\n\t\t\r\n\t\tthis.datePickerContent.appendChild( newDaySelectBox );\r\n\t}\r\n\t\r\n\t/*\r\n\t * 渲染组件HTML\r\n\t * */\r\n\trenderHTML() {\r\n\t\t\r\n\t\tlet that = this;\r\n\t\r\n\t\tlet _datePickerHeader = document.createElement( 'div' );\r\n\t\t\t_datePickerHeader.className = 'datePicker-header';\r\n\t\tlet _datePickerShowYear = document.createElement( 'p' );\r\n\t\t\t_datePickerShowYear.className = 'datePicker-show-year';\r\n\t\tlet _datePickerShowDay = document.createElement( 'p' );\r\n\t\t\t_datePickerShowDay.className = 'datePicker-show-day';\r\n\t\t\r\n\t\tthis.dayValue  = _datePickerShowDay;\r\n\t\tthis.yearValue = _datePickerShowYear;\r\n\t\t\r\n\t\t_datePickerHeader.appendChild( _datePickerShowYear );\r\n\t\t_datePickerHeader.appendChild( _datePickerShowDay );\r\n\t\t\r\n\t\t\r\n\t\tlet _datePickerContent = document.createElement( 'div' );\r\n\t\t\t_datePickerContent.className = 'datePicker-content';\r\n\t\tlet _datePickerContentDaySelect = document.createElement( 'div' );\r\n\t\t\t_datePickerContentDaySelect.className = 'datePicker-content-select datePicker-content-day-select';\r\n\t\tlet _datePickerContentYearSelect = document.createElement( 'div' );\r\n\t\t\t_datePickerContentYearSelect.className = 'datePicker-content-select datePicker-content-year-select hide';\r\n\t\t\r\n\t\tthis.datePickerContent = _datePickerContent;\r\n\t\tthis.daySelectBox      = _datePickerContentDaySelect;\r\n\t\tthis.yearSelectBox     = _datePickerContentYearSelect;\r\n\t\t\r\n\t\t_datePickerContent.appendChild( _datePickerContentDaySelect );\r\n\t\t_datePickerContent.appendChild( _datePickerContentYearSelect );\r\n\t\t\r\n\t\t\r\n\t\tlet _datePickerFooter = document.createElement( 'div' );\r\n\t\t\t_datePickerFooter.className = 'datePicker-footer';\r\n\t\tlet _datePickerFooterCancel = document.createElement( 'a' );\r\n\t\t\t_datePickerFooterCancel.innerText = '取消';\r\n\t\t\t_datePickerFooterCancel.onclick = function( ) {\r\n\t\t\t\tthat.cancelHandler();\r\n\t\t\t};\r\n\t\tlet _datePickerFooterConfirm = document.createElement( 'a' );\r\n\t\t\t_datePickerFooterConfirm.innerText = '确定';\r\n\t\t\t_datePickerFooterConfirm.onclick = function(  ) {\r\n\t\t\t\tthat.confirmHandler();\r\n\t\t\t};\r\n\t\t\r\n\t\t_datePickerFooter.append( _datePickerFooterCancel );\r\n\t\t_datePickerFooter.append( _datePickerFooterConfirm );\r\n\t\t\r\n\t\tlet _datePicker = document.createElement( 'div' );\r\n\t\t\t_datePicker.className = 'datePicker';\r\n\t\t\t\r\n\t\tthis.datePicker = _datePicker;\r\n\t\t\r\n\t\t_datePicker.appendChild( _datePickerHeader );\r\n\t\t_datePicker.appendChild( _datePickerContent );\r\n\t\t_datePicker.appendChild( _datePickerFooter );\r\n\t\t\r\n\t\tdocument.body.appendChild( _datePicker );\r\n\t\t\r\n\t}\r\n\t\r\n\t/*\r\n\t * 组件确定点击事件\r\n\t * */\r\n\tconfirmHandler() {\r\n\t\t\r\n\t\tthis.targetElement.value = this.year + '-' + this.month + '-' + this.day;\r\n\t\tthis.datePicker.classList.add( 'hide' );\r\n\t\t\r\n\t}\r\n\t\r\n\t/*\r\n\t * 组件确定点击事件\r\n\t * */\r\n\tcancelHandler(  ) {\r\n\t\t\r\n\t\tthis.datePicker.classList.add( 'hide' );\r\n\t\t\r\n\t}\r\n\t\r\n\t/*\r\n\t * 初始化\r\n\t * */\r\n\tinit( ele ) {\r\n\t\t\r\n\t\tlet that = this;\r\n\t\t\r\n\t\tthis.targetElement = document.querySelector( ele );\r\n\t\tthis.targetElement.addEventListener( 'click', function(  ) {\r\n\t\t\tif( that.datePicker ) {\r\n\t\t\t\t\r\n\t\t\t\tthat.datePicker.classList.remove( 'hide' )\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\t\r\n\t\t\t\tthat.renderHTML();\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * 显示内容初始赋值\r\n\t\t\t\t * */\r\n\t\t\t\tlet initDate = new Date();\r\n\t\t\t\t\r\n\t\t\t\tthat.renderYearSelect();\r\n\t\t\t\tthat.renderDaySelect( initDate.getFullYear(), ( initDate.getMonth() + 1 ), initDate.getDate() );\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * 初始赋值\r\n\t\t\t\t * */\r\n\t\t\t\tthat.year = initDate.getFullYear();\r\n\t\t\t\tthat.month = initDate.getMonth() + 1;\r\n\t\t\t\tthat.day = initDate.getDate();\r\n\t\t\t\t\r\n\t\t\t\tthat.dayValueWrite( that.year, that.month, that.day );\r\n\t\t\t\t\r\n\t\t\t\t/*\r\n\t\t\t\t * 初始化点击事件\r\n\t\t\t\t * */\r\n\t\t\t\tthat.yearValueClick();\r\n\t\t\t\tthat.dayValueClick();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t} );\r\n\t\t\r\n\t}\r\n}\r\n"]}